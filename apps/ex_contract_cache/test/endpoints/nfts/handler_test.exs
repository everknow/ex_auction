defmodule ExContractCache.Endpoints.NFT.HandlerTest do
  use ExUnit.Case, async: false
  alias ExContractCache.Endpoints.NFT.Handler
  import Mock

  describe "" do
    Tesla.Mock.mock(fn
      %{method: :post, url: "/api/v1/nfts/page"} ->
        body =
          "{\"ok\":[[\"0xa92a9268b82c3cc37e4a38d7355d35cf7a442bf8\",\"0x42505aea1fd06aeb289058abb8c05a6539909822\",\"0x42505aea1fd06aeb289058abb8c05a6539909822\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0x42505aea1fd06aeb289058abb8c05a6539909822\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0x42505aea1fd06aeb289058abb8c05a6539909822\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0x42505aea1fd06aeb289058abb8c05a6539909822\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xa92a9268b82c3cc37e4a38d7355d35cf7a442bf8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0x42505aea1fd06aeb289058abb8c05a6539909822\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0xb630f90d5a0df24ed4a44b5ca4980334f2e34ff8\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\"],[\"e938b03d59841fe44413c25b0d4d56cac4ae0d7d39fbe928af3b55096d5f4f38\",\"e938b03d59841fe44413c25b0d4d56cac4ae0d7d39fbe928af3b55096d5f4f38\",\"e938b03d59841fe44413c25b0d4d56cac4ae0d7d39fbe928af3b55096d5f4f38\",\"e938b03d59841fe44413c25b0d4d56cac4ae0d7d39fbe928af3b55096d5f4f38\",\"e938b03d59841fe44413c25b0d4d56cac4ae0d7d39fbe928af3b55096d5f4f38\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"0000000000000000000000000000000000000000000000000000000000000000\"],[\"10000000000000000\",\"40000000000000000\",\"0\",\"10000000000000000\",\"10000000000000000\",\"40000000000000000\",\"20000000000000000\",\"20000000000000000\",\"20000000000000000\",\"20000000000000000\",\"20000000000000000\",\"20000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"30000000000000000\",\"40000000000000000\",\"40000000000000000\",\"40000000000000000\",\"40000000000000000\",\"40000000000000000\",\"40000000000000000\",\"40000000000000000\",\"40000000000000000\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\"],\"31\"]}"

        %Tesla.Env{status: 200, body: body}
    end)

    test "" do
      [
        %{
          availableEditions: 4,
          hash: "e938b03d59841fe44413c25b0d4d56cac4ae0d7d39fbe928af3b55096d5f4f38",
          totalEditions: 5
        },
        %{
          availableEditions: 7,
          hash: "1007a21f76fb695cda27b770ce7e52dcd937c62053c3d8eb722a83e83d1906d1",
          totalEditions: 7
        },
        %{
          availableEditions: 10,
          hash: "69d1db68e3b24f9d7b8959dbb57d1581156d4e5c23e10f046590b488a44bd931",
          totalEditions: 10
        },
        %{
          availableEditions: 8,
          hash: "e7fda1191610e2e281f47a0858563772eabf9435c5091eb90ba413c39ef65aa5",
          totalEditions: 8
        }
      ] = Handler.list_nfts(1, 2, 3)
    end
  end
end
